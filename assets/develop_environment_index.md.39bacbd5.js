import{_ as s}from"./chunks/mysql.45043d55.js";import{_ as a,o as e,c as n,O as t}from"./chunks/framework.9efa186b.js";const o="/RH-doc-release/mysql2.png",l="/RH-doc-release/plugins.png",F=JSON.parse('{"title":"开发环境","description":"","frontmatter":{"title":"开发环境"},"headers":[],"relativePath":"develop/environment/index.md"}'),r={name:"develop/environment/index.md"},p=t('<h2 id="操作系统" tabindex="-1">操作系统 <a class="header-anchor" href="#操作系统" aria-label="Permalink to &quot;操作系统&quot;">​</a></h2><p>支持 macOS，Linux，Windows，以下教程软件安装以Windows操作系统为例，其他操作系统可google获取。</p><h2 id="可能有更好的方案" tabindex="-1">可能有更好的方案 <a class="header-anchor" href="#可能有更好的方案" aria-label="Permalink to &quot;可能有更好的方案&quot;">​</a></h2><p>如果你像我一样不想在Windows系统中安装开发环境，占用宝贵的内存，运行不必要的进程。你可以尝试了解一下<a href="https://baike.baidu.com/item/VMware/5461553?fr=aladdin" target="_blank" rel="noreferrer">VMware虚拟机</a>，直接在Windows中同时运行一个虚拟Ubuntu系统，参考<a href="/RH-doc-release/arrange/environment/">部署=&gt;服务器环境</a>模块安装MySQL、redis、minio，然后通过内网访问。但是本地的node-js还是必须要安装的。</p><h2 id="node-js环境" tabindex="-1">node-js环境 <a class="header-anchor" href="#node-js环境" aria-label="Permalink to &quot;node-js环境&quot;">​</a></h2><p>安装对应操作系统的<a href="https://nodejs.org/en" target="_blank" rel="noreferrer">nodejs</a>，npm版本需要大于6.1.0。下载好后一路next就好。</p><h2 id="数据库" tabindex="-1">数据库 <a class="header-anchor" href="#数据库" aria-label="Permalink to &quot;数据库&quot;">​</a></h2><p>数据库使用mysql，安装时需要留意密码。<br><a href="https://dev.mysql.com/downloads/mysql/" target="_blank" rel="noreferrer">数据库下载</a><br><a href="https://blog.csdn.net/Zhangguohao666/article/details/105314085" target="_blank" rel="noreferrer">推荐一个博主的安装教程</a></p><p>mysql安装完成后新建一个数据库，数据库名为right_house_db。 <img src="'+s+`" alt="新建数据库"><br> 在服务端代码FS-server/app/router.js,打开注释掉的app.model.sync();方法，即可自动创建数据表。添加参数{ force: true }，即可重置数据库（数据会重置，表会清空。）。</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">async</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">app</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">app</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">env</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">local</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// 初始化数据库 { force: true }重置</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">app</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">model</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">sync</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span></code></pre></div><p>数据库创建完成后，需要手动添加一个后台管理系统管理员账户。<br> 打开admin_user表，填入id、phone、password即可。 <img src="`+o+`" alt="新建数据库"></p><h2 id="数据库表结构" tabindex="-1">数据库表结构 <a class="header-anchor" href="#数据库表结构" aria-label="Permalink to &quot;数据库表结构&quot;">​</a></h2><table><thead><tr><th>表名</th><th>备注</th></tr></thead><tbody><tr><td>admin_user</td><td>后台管理系统管理员表</td></tr><tr><td>comments</td><td>评论表</td></tr><tr><td>house</td><td>房屋表</td></tr><tr><td>house_link_tenant</td><td>房屋与租客的关联表</td></tr><tr><td>house_maintenance</td><td>房屋报修表</td></tr><tr><td>landlord_link_tenant</td><td>房东与租客的关联表</td></tr><tr><td>landlord_user</td><td>房东表</td></tr><tr><td>lease_application</td><td>租房申请表</td></tr><tr><td>rental_market</td><td>租房市场表</td></tr><tr><td>rental_market_link_tenant</td><td>租客收藏租房市场表</td></tr><tr><td>tenants_user</td><td>租客表</td></tr></tbody></table><p>具体字段名和表关联关系详见：<a href="https://gitee.com/liuxin0128/right-house/tree/master/RH-server/app/model" target="_blank" rel="noreferrer">/RH-server/app/model</a></p><h2 id="缓存" tabindex="-1">缓存 <a class="header-anchor" href="#缓存" aria-label="Permalink to &quot;缓存&quot;">​</a></h2><p>缓存使用redis，安装时需要留意密码。<br><a href="https://github.com/tporadowski/redis/" target="_blank" rel="noreferrer">下载地址</a><br><a href="https://www.redis.com.cn/redis-installation.html" target="_blank" rel="noreferrer">推荐一个博主的安装教程</a></p><h2 id="对象存储" tabindex="-1">对象存储 <a class="header-anchor" href="#对象存储" aria-label="Permalink to &quot;对象存储&quot;">​</a></h2><p>对象存储使用minio，也可自行购买阿里云等服务商的oss服务器。</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">PS&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Invoke-WebRequest</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-Uri</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">https://dl.minio.org.cn/server/minio/release/windows-amd64/minio.exe</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-OutFile</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">C:\\minio.exe</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#FFCB6B;">PS&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">setx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">MINIO_ROOT_USER</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">admin</span></span>
<span class="line"><span style="color:#FFCB6B;">PS&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">setx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">MINIO_ROOT_PASSWORD</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">password</span></span>
<span class="line"><span style="color:#FFCB6B;">PS&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">C:</span><span style="color:#A6ACCD;">\\m</span><span style="color:#C3E88D;">inio.exe</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">server</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">F:</span><span style="color:#A6ACCD;">\\D</span><span style="color:#C3E88D;">ata</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--console-address</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">:9001</span><span style="color:#89DDFF;">&quot;</span></span></code></pre></div><h4 id="安装完成后-需要新建一个文件存储容器-名称为-filebucket" tabindex="-1">安装完成后，需要新建一个文件存储容器，名称为：filebucket <a class="header-anchor" href="#安装完成后-需要新建一个文件存储容器-名称为-filebucket" aria-label="Permalink to &quot;安装完成后，需要新建一个文件存储容器，名称为：filebucket&quot;">​</a></h4><h2 id="推荐的vscode开发插件" tabindex="-1">推荐的vscode开发插件 <a class="header-anchor" href="#推荐的vscode开发插件" aria-label="Permalink to &quot;推荐的vscode开发插件&quot;">​</a></h2><p><a href="https://marketplace.visualstudio.com/items?itemName=cweijan.vscode-redis-client" target="_blank" rel="noreferrer">Redis</a>插件可以在vscode内管理数据库和redis <img src="`+l+'" alt="plugins"></p>',22),c=[p];function i(d,y,D,h,C,m){return e(),n("div",null,c)}const _=a(r,[["render",i]]);export{F as __pageData,_ as default};
