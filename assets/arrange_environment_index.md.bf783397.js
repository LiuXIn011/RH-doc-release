import{_ as s}from"./chunks/mysql.a8f319e1.js";import{_ as a,o as n,c as l,O as o}from"./chunks/framework.4afe7240.js";const p="/oss.png",e="/oss2.png",t="/oss3.png",c="/oss4.png",u=JSON.parse('{"title":"部署环境","description":"","frontmatter":{"title":"部署环境"},"headers":[],"relativePath":"arrange/environment/index.md","filePath":"arrange/environment/index.md"}'),C={name:"arrange/environment/index.md"},r=o(`<p>以部署到<a href="https://cn.ubuntu.com/" target="_blank" rel="noreferrer">Ubuntu</a>系统服务器为例</p><h2 id="安装nodejs" tabindex="-1">安装NodeJs <a class="header-anchor" href="#安装nodejs" aria-label="Permalink to &quot;安装NodeJs&quot;">​</a></h2><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">apt-get</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">update</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#安装nodejs</span></span>
<span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">apt-get</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nodejs</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#安装npm</span></span>
<span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">apt-get</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">npm</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#检查是否安装成功</span></span>
<span class="line"><span style="color:#FFCB6B;">node</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-v</span></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-v</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#显示对应版本号即为安装成功</span></span></code></pre></div><h2 id="安装mysql数据库" tabindex="-1">安装MySQL数据库 <a class="header-anchor" href="#安装mysql数据库" aria-label="Permalink to &quot;安装MySQL数据库&quot;">​</a></h2><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 查看有没有安装MySQL：</span></span>
<span class="line"><span style="color:#FFCB6B;">dpkg</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-l</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">grep</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mysql</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 安装MySQL：</span></span>
<span class="line"><span style="color:#FFCB6B;">apt</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mysql-server</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#安装完成之后可以使用如下命令来检查是否安装成功：</span></span>
<span class="line"><span style="color:#FFCB6B;">netstat</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-tap</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">grep</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mysql</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#通过上述命令检查之后，如果看到有 mysql 的socket处于 LISTEN 状态则表示安装成功。</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#登录mysql数据库可以通过如下命令：</span></span>
<span class="line"><span style="color:#FFCB6B;">mysql</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-u</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">root</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-p</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#-u 表示选择登陆的用户名， -p 表示登陆的用户密码，现在是mysql数据库是没有密码的，Enter password:处直接回车，就能够进入mysql数据库。</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#然后通过 show databases; 就可以查看当前的所有数据库。</span></span></code></pre></div><h4 id="接下来-为了确保数据库的安全性和正常运转-对数据库进行初始化操作。这个初始化操作涉及下面5个步骤。" tabindex="-1">接下来，为了确保数据库的安全性和正常运转，对数据库进行初始化操作。这个初始化操作涉及下面5个步骤。 <a class="header-anchor" href="#接下来-为了确保数据库的安全性和正常运转-对数据库进行初始化操作。这个初始化操作涉及下面5个步骤。" aria-label="Permalink to &quot;接下来，为了确保数据库的安全性和正常运转，对数据库进行初始化操作。这个初始化操作涉及下面5个步骤。&quot;">​</a></h4><p>（1）安装验证密码插件。<br> （2）设置root管理员在数据库中的专有密码。<br> （3）随后删除匿名账户，并使用root管理员从远程登录数据库，以确保数据库上运行的业务的安全性。<br> （4）删除默认的测试数据库，取消测试数据库的一系列访问权限。<br> （5）刷新授权列表，让初始化的设定立即生效。</p><h4 id="初始化命令" tabindex="-1">初始化命令： <a class="header-anchor" href="#初始化命令" aria-label="Permalink to &quot;初始化命令：&quot;">​</a></h4><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">mysql_secure_installation</span></span></code></pre></div><h4 id="对于上述数据库初始化的操作步骤-输出信息如下" tabindex="-1">对于上述数据库初始化的操作步骤，输出信息如下 <a class="header-anchor" href="#对于上述数据库初始化的操作步骤-输出信息如下" aria-label="Permalink to &quot;对于上述数据库初始化的操作步骤，输出信息如下&quot;">​</a></h4><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">Securing</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">the</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">MySQL</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">server</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">deployment.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">Connecting</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">to</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">MySQL</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">using</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">a</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">blank</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">password.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">VALIDATE</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">PASSWORD</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">PLUGIN</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">can</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">be</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">used</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">to</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">test</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">passwords</span></span>
<span class="line"><span style="color:#FFCB6B;">and</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">improve</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">security.</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">It</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">checks</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">the</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">strength</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">of</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">password</span></span>
<span class="line"><span style="color:#FFCB6B;">and</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">allows</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">the</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">users</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">to</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">set</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">only</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">those</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">passwords</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">which</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">are</span></span>
<span class="line"><span style="color:#FFCB6B;">secure</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">enough.</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Would</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">you</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">like</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">to</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">setup</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">VALIDATE</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">PASSWORD</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">plugin?</span><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># 要安装验证密码插件吗?</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">Press</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">y</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">Y</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">for</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Yes,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">any</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">other</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">key</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">for</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">No:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">N</span><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># 这里我选择N</span></span>
<span class="line"><span style="color:#FFCB6B;">Please</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">set</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">the</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">password</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">for</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">root</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">here.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">New</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">password:</span><span style="color:#A6ACCD;">   </span><span style="color:#676E95;font-style:italic;"># 输入要为root管理员设置的数据库密码</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">Re-enter</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">password:</span><span style="color:#A6ACCD;">   </span><span style="color:#676E95;font-style:italic;"># 再次输入密码</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">By</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">default,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">a</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">MySQL</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">installation</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">has</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">an</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">anonymous</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">user,</span></span>
<span class="line"><span style="color:#FFCB6B;">allowing</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">anyone</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">to</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">log</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">into</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">MySQL</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">without</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">having</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">to</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">have</span></span>
<span class="line"><span style="color:#FFCB6B;">a</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">user</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">account</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">created</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">for</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">them.</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">This</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">is</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">intended</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">only</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">for</span></span>
<span class="line"><span style="color:#FFCB6B;">testing,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">and</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">to</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">make</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">the</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">installation</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">go</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">a</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">bit</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">smoother.</span></span>
<span class="line"><span style="color:#FFCB6B;">You</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">should</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">remove</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">them</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">before</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">moving</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">into</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">a</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">production</span></span>
<span class="line"><span style="color:#FFCB6B;">environment.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">Remove</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">anonymous</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">users?</span><span style="color:#A6ACCD;"> (Press </span><span style="color:#C3E88D;">y</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">Y</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">for</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Yes,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">any</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">other</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">key</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">for</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">No</span><span style="color:#A6ACCD;">) </span><span style="color:#82AAFF;">:</span><span style="color:#A6ACCD;"> y     </span><span style="color:#676E95;font-style:italic;"># 删除匿名账户</span></span>
<span class="line"><span style="color:#FFCB6B;">Success.</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">Normally,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">root</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">should</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">only</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">be</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">allowed</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">to</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">connect</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">from</span></span>
<span class="line"><span style="color:#FFCB6B;">&#39;localhost&#39;</span><span style="color:#82AAFF;">.</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">This</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ensures</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">that</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">someone</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cannot</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">guess</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">at</span></span>
<span class="line"><span style="color:#FFCB6B;">the</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">root</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">password</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">the</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">network.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">Disallow</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">root</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">login</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">remotely?</span><span style="color:#A6ACCD;"> (Press </span><span style="color:#C3E88D;">y</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">Y</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">for</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Yes,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">any</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">other</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">key</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">for</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">No</span><span style="color:#A6ACCD;">) </span><span style="color:#82AAFF;">:</span><span style="color:#A6ACCD;"> N    </span><span style="color:#676E95;font-style:italic;"># 禁止root管理员从远程登录，这里我没有禁止</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">...</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">skipping.</span></span>
<span class="line"><span style="color:#FFCB6B;">By</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">default,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">MySQL</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">comes</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">with</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">a</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">database</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">named</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">test</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">that</span></span>
<span class="line"><span style="color:#FFCB6B;">anyone</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">can</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">access.</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">This</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">is</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">also</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">intended</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">only</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">for</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">testing,</span></span>
<span class="line"><span style="color:#FFCB6B;">and</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">should</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">be</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">removed</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">before</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">moving</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">into</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">a</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">production</span></span>
<span class="line"><span style="color:#FFCB6B;">environment.</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">Remove</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">test</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">database</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">and</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">access</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">to</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">it?</span><span style="color:#A6ACCD;"> (Press </span><span style="color:#C3E88D;">y</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">Y</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">for</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Yes,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">any</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">other</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">key</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">for</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">No</span><span style="color:#A6ACCD;">) </span><span style="color:#82AAFF;">:</span><span style="color:#A6ACCD;"> y   </span><span style="color:#676E95;font-style:italic;"># 删除test数据库并取消对它的访问权限</span></span>
<span class="line"><span style="color:#FFCB6B;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Dropping</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">test</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">database...</span></span>
<span class="line"><span style="color:#FFCB6B;">Success.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Removing</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">privileges</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">on</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">test</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">database...</span></span>
<span class="line"><span style="color:#FFCB6B;">Success.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">Reloading</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">the</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">privilege</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">tables</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">will</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ensure</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">that</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">all</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">changes</span></span>
<span class="line"><span style="color:#FFCB6B;">made</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">so</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">far</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">will</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">take</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">effect</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">immediately.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">Reload</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">privilege</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">tables</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">now?</span><span style="color:#A6ACCD;"> (Press </span><span style="color:#C3E88D;">y</span><span style="color:#89DDFF;">|</span><span style="color:#FFCB6B;">Y</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">for</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Yes,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">any</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">other</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">key</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">for</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">No</span><span style="color:#A6ACCD;">) </span><span style="color:#82AAFF;">:</span><span style="color:#A6ACCD;"> y   </span><span style="color:#676E95;font-style:italic;"># 刷新授权表，让初始化后的设定立即生效</span></span>
<span class="line"><span style="color:#FFCB6B;">Success.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">All</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">done!</span></span></code></pre></div><h4 id="检查mysql服务状态-显示running即为安装成功。" tabindex="-1">检查mysql服务状态，显示running即为安装成功。 <a class="header-anchor" href="#检查mysql服务状态-显示running即为安装成功。" aria-label="Permalink to &quot;检查mysql服务状态，显示running即为安装成功。&quot;">​</a></h4><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">systemctl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">status</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mysql</span></span></code></pre></div><h4 id="现在配置mysql允许远程访问" tabindex="-1">现在配置mysql允许远程访问 <a class="header-anchor" href="#现在配置mysql允许远程访问" aria-label="Permalink to &quot;现在配置mysql允许远程访问&quot;">​</a></h4><p>首先编辑 /etc/mysql/mysql.conf.d/mysqld.cnf 配置文件</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">vim</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/etc/mysql/mysql.conf.d/mysqld.cnf</span></span></code></pre></div><p>注释掉 bind-address= 127.0.0.1，保存退出。</p><h4 id="执行授权" tabindex="-1">执行授权 <a class="header-anchor" href="#执行授权" aria-label="Permalink to &quot;执行授权&quot;">​</a></h4><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">mysql</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-u</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">root</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-p</span></span>
<span class="line"><span style="color:#FFCB6B;">mysql&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">grant</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">all</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">on</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">*</span><span style="color:#C3E88D;">.</span><span style="color:#A6ACCD;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">to</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">root@</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">%</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">identified</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">by</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">你的密码</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">with</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">grant</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">option</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#FFCB6B;">mysql&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">flush</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">privileges</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;"># 刷新权限</span></span>
<span class="line"><span style="color:#FFCB6B;">mysql&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">exit</span></span></code></pre></div><h4 id="然后执行exit命令退出mysql服务-再执行如下命令重启mysql" tabindex="-1">然后执行exit命令退出mysql服务，再执行如下命令重启mysql <a class="header-anchor" href="#然后执行exit命令退出mysql服务-再执行如下命令重启mysql" aria-label="Permalink to &quot;然后执行exit命令退出mysql服务，再执行如下命令重启mysql&quot;">​</a></h4><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">systemctl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">restart</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mysql</span></span></code></pre></div><p>现在Windows下可以使用Navicat图形化工具远程连接Ubuntu下的MySQL数据库<br> mysql安装完成后新建一个数据库，数据库名为right_house_db。 <img src="`+s+`" alt="新建数据库"></p><h2 id="安装redis" tabindex="-1">安装Redis <a class="header-anchor" href="#安装redis" aria-label="Permalink to &quot;安装Redis&quot;">​</a></h2><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">apt</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">update</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 安装</span></span>
<span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">apt</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">redis-server</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 配置</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#设置密码：修改配置文件里的requirepass,把注释关掉,然后后面改为你想设置的密码；supervised 设置为 systemd。</span></span>
<span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">vim</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/etc/redis/redis.conf</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#修改配置需要重启</span></span>
<span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">service</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">redis</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">restart</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;"># 重新加载Redis服务文件</span></span>
<span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">systemctl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">status</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">redis</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># 查看 Redis 的运行状态</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 一些操作</span></span>
<span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">service</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">redis</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">start</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;"># 启动</span></span>
<span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">service</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">redis</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">stop</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;"># 关闭</span></span>
<span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">service</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">redis</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">restart</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;"># 重启</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 配置远程连接 </span></span>
<span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">vi</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/etc/redis/redis.conf</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 将 bind 127.0.0.1 ::1 改为 bind 0.0.0.0</span></span></code></pre></div><h2 id="安装对象存储minio" tabindex="-1">安装对象存储minio <a class="header-anchor" href="#安装对象存储minio" aria-label="Permalink to &quot;安装对象存储minio&quot;">​</a></h2><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 安装：</span></span>
<span class="line"><span style="color:#FFCB6B;">wget</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">https://dl.min.io/server/minio/release/linux-amd64/minio</span></span>
<span class="line"><span style="color:#FFCB6B;">chmod</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">+x</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">minio</span></span>
<span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mv</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">minio</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/usr/local/bin/</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 运行 /data/minio-data 是 MinIO 实际存放文件的位置，9001 是 console 的端口，9000 是 API Server 的端口。 console 如果不指定端口，每次运行会随机使用一个端口，不方便我们用 Nginx 代理。</span></span>
<span class="line"><span style="color:#A6ACCD;">MINIO_ROOT_USER</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">用户名</span><span style="color:#A6ACCD;"> MINIO_USER_PASSWORD</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">密码</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">nohup</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">minio</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">server</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/data/minio-data</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--console-address</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">:9001</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--address</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">:9000</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">./minio.log</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">2&gt;&amp;1</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;</span></span></code></pre></div><p>通过端口9001访问OSS后台管理页面，默认用户名和密码都是：minioadmin。 <img src="`+p+'" alt="oss"></p><p>登录完成后点击新建bucket <img src="'+e+'" alt="oss"></p><p>bucket名称为：filebucket <img src="'+t+'" alt="oss"></p><p>完成后点击设置，修改访问权限为public <img src="'+c+`" alt="oss"></p><h2 id="安装web服务器nginx" tabindex="-1">安装web服务器Nginx <a class="header-anchor" href="#安装web服务器nginx" aria-label="Permalink to &quot;安装web服务器Nginx&quot;">​</a></h2><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">apt</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">update</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 安装</span></span>
<span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">apt</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nginx</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 配置文件路径 /etc/nginx/sites-available/default</span></span></code></pre></div>`,32),y=[r];function A(D,i,E,d,F,h){return n(),l("div",null,y)}const g=a(C,[["render",A]]);export{u as __pageData,g as default};
